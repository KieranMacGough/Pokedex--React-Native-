{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from 'react';\n;\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport globalStyles from \"./styles/globalStyles.js\";\nimport Home from \"./components/Home/Home.js\";\nimport Profile from \"./components/Profile/Profile.js\";\nimport { useFonts } from 'expo-font';\nimport { MainClient } from 'pokenode-ts';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function App() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      allPokemonData = _useState2[0],\n      setAllPokemonData = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pokemonProfile = _useState4[0],\n      setPokemonProfile = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      pokemonLoaded = _useState6[0],\n      setPokemonLoaded = _useState6[1];\n\n  var _useFonts = useFonts({\n    Inter: require(\"./fonts/Inter.ttf\")\n  }),\n      _useFonts2 = _slicedToArray(_useFonts, 1),\n      loaded = _useFonts2[0];\n\n  useEffect(function () {\n    console.log(\"pokemonLoaded: \", pokemonLoaded);\n\n    if (!pokemonLoaded) {\n      var abortController = new AbortController();\n      console.log(\"Oh no\");\n      var pokemonToAdd = [];\n\n      var getAllPokemonNames = function _callee3() {\n        var api;\n        return _regeneratorRuntime.async(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                api = new MainClient();\n                _context3.next = 3;\n                return _regeneratorRuntime.awrap(api.pokemon.listPokemons(1, 5).then(function (data) {\n                  var getAllPokemonData = function _callee2() {\n                    var _loop, i, _ret;\n\n                    return _regeneratorRuntime.async(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _loop = function _callee(i) {\n                              var abortControllerAll;\n                              return _regeneratorRuntime.async(function _callee$(_context) {\n                                while (1) {\n                                  switch (_context.prev = _context.next) {\n                                    case 0:\n                                      abortControllerAll = new AbortController();\n                                      _context.next = 3;\n                                      return _regeneratorRuntime.awrap(api.pokemon.getPokemonById(i).then(function (data) {\n                                        pokemonToAdd.push(data);\n                                      }).catch(function (error) {\n                                        console.log(\"Uh oh, error\");\n                                        if (error.name === 'AbortError') return;\n                                        throw error;\n                                      }));\n\n                                    case 3:\n                                      return _context.abrupt(\"return\", {\n                                        v: function v() {\n                                          abortControllerAll.abort();\n                                        }\n                                      });\n\n                                    case 4:\n                                    case \"end\":\n                                      return _context.stop();\n                                  }\n                                }\n                              }, null, null, null, Promise);\n                            };\n\n                            i = 1;\n\n                          case 2:\n                            if (!(i < 460)) {\n                              _context2.next = 11;\n                              break;\n                            }\n\n                            _context2.next = 5;\n                            return _regeneratorRuntime.awrap(_loop(i));\n\n                          case 5:\n                            _ret = _context2.sent;\n\n                            if (!(typeof _ret === \"object\")) {\n                              _context2.next = 8;\n                              break;\n                            }\n\n                            return _context2.abrupt(\"return\", _ret.v);\n\n                          case 8:\n                            i++;\n                            _context2.next = 2;\n                            break;\n\n                          case 11:\n                            setAllPokemonData(pokemonToAdd);\n\n                          case 12:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, null, null, null, Promise);\n                  };\n\n                  getAllPokemonData();\n                }).catch(function (error) {\n                  if (error.name === 'AbortError') return;\n                  throw error;\n                }));\n\n              case 3:\n                return _context3.abrupt(\"return\", function () {\n                  abortController.abort();\n                });\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      };\n\n      getAllPokemonNames();\n      setPokemonLoaded(true);\n    }\n  }, []);\n  useEffect(function () {\n    console.log(\"pokemonLoaded: \", pokemonLoaded);\n    ;\n  }, [pokemonLoaded]);\n\n  if (!loaded) {\n    return null;\n  }\n\n  return _jsx(_Fragment, {\n    children: _jsx(View, {\n      style: styles.container,\n      children: pokemonProfile === '' ? _jsx(Home, {\n        setPokemonProfile: setPokemonProfile,\n        allPokemonData: allPokemonData\n      }) : _jsx(Profile, {\n        setPokemonProfile: setPokemonProfile,\n        mon: pokemonProfile\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingTop: StatusBar.currentHeight,\n    fontFamily: 'serif'\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","globalStyles","Home","Profile","useFonts","MainClient","App","allPokemonData","setAllPokemonData","pokemonProfile","setPokemonProfile","pokemonLoaded","setPokemonLoaded","Inter","require","loaded","console","log","abortController","AbortController","pokemonToAdd","getAllPokemonNames","api","pokemon","listPokemons","then","data","getAllPokemonData","i","abortControllerAll","getPokemonById","push","catch","error","name","abort","styles","container","StyleSheet","create","backgroundColor","alignItems","justifyContent","paddingTop","StatusBar","currentHeight","fontFamily"],"sources":["C:/Users/Kieran/Documents/WebDevStuff/PokeDB-RN/pokedex/App.js"],"sourcesContent":["// import { StatusBar } from 'expo-status-bar';\nimport React, { useEffect, useState  } from 'react';;\nimport { StatusBar, StyleSheet, Text, View } from 'react-native';\nimport globalStyles from './styles/globalStyles.js';\nimport Home from './components/Home/Home.js';\nimport Profile from './components/Profile/Profile.js';\nimport { useFonts } from 'expo-font';\nimport { MainClient } from 'pokenode-ts';\n\n\nexport default function App() {\n  const [allPokemonData, setAllPokemonData] = useState([]);\n  const [pokemonProfile, setPokemonProfile] = useState('');\n  const [pokemonLoaded, setPokemonLoaded] = useState(false);\n  const [loaded] = useFonts({\n    Inter: require('./fonts/Inter.ttf'),\n  });\n\n   // get data from the fake api endpoint\n   useEffect(() => {\n    console.log(\"pokemonLoaded: \", pokemonLoaded);\n    if (!pokemonLoaded) {\n      const abortController = new AbortController()   \n      console.log(\"Oh no\");\n      var pokemonToAdd = [];\n      const getAllPokemonNames = async () => {\n          const api = new MainClient();\n          await api.pokemon\n              .listPokemons(1,5)\n              .then((data) => {\n                  const getAllPokemonData = async () => {                  \n                      for (let i = 1; i < 460; i++){\n                        const abortControllerAll = new AbortController()   \n                          await api.pokemon\n                              .getPokemonById(i)\n                              .then((data) => {\n                                // pokemonToAdd((pokemonToAdd) => ([...pokemonToAdd,data]));\n                                pokemonToAdd.push(data);\n                                  // console.log(data);\n                              })\n                              .catch(error => {\n                                console.log(\"Uh oh, error\");\n                                if (error.name === 'AbortError') return     // if the query has been aborted, do nothing\n                                throw error\n                              })\n                              return () => {\n                                abortControllerAll.abort() \n                              }\n                      } \n                      setAllPokemonData(pokemonToAdd);\n\n                  } \n                  getAllPokemonData();\n              })\n              .catch(error => {\n                if (error.name === 'AbortError') return     // if the query has been aborted, do nothing\n                throw error\n              })\n              return () => {\n                abortController.abort() \n              }\n      }  \n      getAllPokemonNames();\n      setPokemonLoaded(true);\n     \n      // console.log({allPokemonData});\n    }\n    \n}, []);\n\nuseEffect( () => {\n  console.log(\"pokemonLoaded: \", pokemonLoaded);;\n}, [pokemonLoaded]);\n\n  if (!loaded) {\n    return null;\n  }\n\n \n\n  return (\n    <>\n        <View style={styles.container}>\n          {(pokemonProfile === '') ? (<Home setPokemonProfile={setPokemonProfile} allPokemonData={allPokemonData} /> ) : ( <Profile setPokemonProfile={setPokemonProfile} mon={pokemonProfile} /> ) }\n        </View>\n    </>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingTop: StatusBar.currentHeight,\n    fontFamily: 'serif'\n  }\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}